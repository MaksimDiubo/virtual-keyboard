!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);class n{constructor({value:e,altValue:t,language:a,width:n,newLine:i,code:r}){this.elements={key:null,mainValue:null,altValue:null},this.value=e,this.altValue=t,this.language=a,this.width=n,this.newLine=i,this.code=r}generateKey(){switch(this.elements.key=document.createElement("button"),this.elements.key.setAttribute("type","button"),this.elements.key.classList.add("keyboard__key"),this.width&&this.elements.key.classList.add(`keyboard__key--${this.width}`),this.elements.key.dataset.code=this.code,this.value.en){case"Backspace":this.elements.key.innerHTML=this.createIconHTML("backspace");break;case"Tab":this.elements.key.innerHTML=this.createIconHTML("keyboard_tab");break;case"CapsLock":this.elements.key.innerHTML=this.createIconHTML("keyboard_capslock"),this.elements.key.classList.add("keyboard__key--activatable");break;case"Enter":this.elements.key.innerHTML=this.createIconHTML("keyboard_return");break;case"ShiftLeft":case"ShiftRight":this.elements.key.innerText="Shift";break;case"ArrowUp":this.elements.key.innerHTML=this.createIconHTML("keyboard_arrow_up");break;case"ControlLeft":this.elements.key.innerText="Ctrl";break;case"MetaLeft":this.elements.key.innerText="Win";break;case"AltLeft":this.elements.key.innerText="Alt";break;case"Space":this.elements.key.innerHTML=this.createIconHTML("space_bar");break;case"AltRight":this.elements.key.innerText="Alt";break;case"ControlRight":this.elements.key.innerText="Ctrl";break;case"ArrowLeft":this.elements.key.innerHTML=this.createIconHTML("keyboard_arrow_left");break;case"ArrowDown":this.elements.key.innerHTML=this.createIconHTML("keyboard_arrow_down");break;case"ArrowRight":this.elements.key.innerHTML=this.createIconHTML("keyboard_arrow_right");break;default:this.elements.mainValue=document.createElement("span"),this.elements.altValue=document.createElement("span"),this.elements.altValue.classList.add("alternative-value"),this.elements.mainValue.innerText=this.value[this.language],this.elements.altValue.innerText=this.altValue[this.language],this.elements.key.append(this.elements.mainValue),this.elements.key.append(this.elements.altValue)}}createIconHTML(e){return`<i class="material-icons">${e}</i>`}changeLanguage(e){this.language=e,this.elements.key.childNodes.length>1&&(this.elements.mainValue.innerText=this.value[this.language],this.elements.altValue.innerText=this.altValue[this.language])}addRippleAnimation(){let e=this.elements.key.clientLeft+.5*this.elements.key.clientWidth,t=this.elements.key.clientTop+.5*this.elements.key.clientHeight,a=document.createElement("span");a.classList.add("ripple"),a.style.left=e+"px",a.style.top=t+"px",this.elements.key.append(a),setTimeout(()=>{a.remove()},500)}}class i{constructor(){this.elements={wrapper:null,textarea:null,keysContainer:null,info:null},this.properties={value:"",capsLock:!1,shift:!1,alt:!1,ctrl:!1,language:localStorage.getItem("lang")||"en"},this.layout=[{value:{en:"`",ru:"ё"},altValue:{en:"~",ru:""},language:this.properties.language,width:"",newLine:!1,code:"Backquote"},{value:{en:"1",ru:"1"},altValue:{en:"!",ru:"!"},language:this.properties.language,width:"",newLine:!1,code:"Digit1"},{value:{en:"2",ru:"2"},altValue:{en:"@",ru:'"'},language:this.properties.language,width:"",newLine:!1,code:"Digit2"},{value:{en:"3",ru:"3"},altValue:{en:"#",ru:"№"},language:this.properties.language,width:"",newLine:!1,code:"Digit3"},{value:{en:"4",ru:"4"},altValue:{en:"$",ru:";"},language:this.properties.language,width:"",newLine:!1,code:"Digit4"},{value:{en:"5",ru:"5"},altValue:{en:"%",ru:"%"},language:this.properties.language,width:"",newLine:!1,code:"Digit5"},{value:{en:"6",ru:"6"},altValue:{en:"^",ru:":"},language:this.properties.language,width:"",newLine:!1,code:"Digit6"},{value:{en:"7",ru:"7"},altValue:{en:"&",ru:"?"},language:this.properties.language,width:"",newLine:!1,code:"Digit7"},{value:{en:"8",ru:"8"},altValue:{en:"*",ru:"*"},language:this.properties.language,width:"",newLine:!1,code:"Digit8"},{value:{en:"9",ru:"9"},altValue:{en:"(",ru:"("},language:this.properties.language,width:"",newLine:!1,code:"Digit9"},{value:{en:"0",ru:"0"},altValue:{en:")",ru:")"},language:this.properties.language,width:"",newLine:!1,code:"Digit0"},{value:{en:"-",ru:"-"},altValue:{en:"_",ru:"_"},language:this.properties.language,width:"",newLine:!1,code:"Minus"},{value:{en:"=",ru:"="},altValue:{en:"+",ru:"+"},language:this.properties.language,width:"",newLine:!1,code:"Equal"},{value:{en:"Backspace",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!0,code:"Backspace"},{value:{en:"Tab",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!1,code:"Tab"},{value:{en:"q",ru:"й"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyQ"},{value:{en:"w",ru:"ц"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyW"},{value:{en:"e",ru:"у"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyE"},{value:{en:"r",ru:"к"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyR"},{value:{en:"t",ru:"к"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyT"},{value:{en:"y",ru:"н"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyY"},{value:{en:"u",ru:"г"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyU"},{value:{en:"i",ru:"ш"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyI"},{value:{en:"o",ru:"щ"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyO"},{value:{en:"p",ru:"з"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyP"},{value:{en:"[",ru:"х"},altValue:{en:"{",ru:""},language:this.properties.language,width:"",newLine:!1,code:"BracketLeft"},{value:{en:"]",ru:"ъ"},altValue:{en:"}",ru:""},language:this.properties.language,width:"",newLine:!1,code:"BracketRight"},{value:{en:"\\",ru:"\\"},altValue:{en:"|",ru:"/"},language:this.properties.language,width:"",newLine:!0,code:"Backslash"},{value:{en:"CapsLock",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!1,code:"CapsLock"},{value:{en:"a",ru:"ф"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyA"},{value:{en:"s",ru:"ы"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyS"},{value:{en:"d",ru:"в"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyD"},{value:{en:"f",ru:"а"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyF"},{value:{en:"g",ru:"п"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyG"},{value:{en:"h",ru:"р"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyH"},{value:{en:"j",ru:"о"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyJ"},{value:{en:"k",ru:"л"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyK"},{value:{en:"l",ru:"д"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyL"},{value:{en:";",ru:"ж"},altValue:{en:":",ru:""},language:this.properties.language,width:"",newLine:!1,code:"Semicolon"},{value:{en:"'",ru:"э"},altValue:{en:'"',ru:""},language:this.properties.language,width:"",newLine:!1,code:"Quote"},{value:{en:"Enter",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!0,code:"Enter"},{value:{en:"ShiftLeft",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!1,code:"ShiftLeft"},{value:{en:"z",ru:"я"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyZ"},{value:{en:"x",ru:"ч"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyX"},{value:{en:"c",ru:"с"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyC"},{value:{en:"v",ru:"м"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyV"},{value:{en:"b",ru:"и"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyB"},{value:{en:"n",ru:"т"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyN"},{value:{en:"m",ru:"ь"},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"KeyM"},{value:{en:",",ru:"б"},altValue:{en:"<",ru:""},language:this.properties.language,width:"",newLine:!1,code:"Comma"},{value:{en:".",ru:"ю"},altValue:{en:">",ru:""},language:this.properties.language,width:"",newLine:!1,code:"Period"},{value:{en:"/",ru:"."},altValue:{en:"?",ru:","},language:this.properties.language,width:"",newLine:!1,code:"Slash"},{value:{en:"ShiftRight",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"ShiftRight"},{value:{en:"ArrowUp",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!0,code:"ArrowUp"},{value:{en:"ControlLeft",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!1,code:"ControlLeft"},{value:{en:"MetaLeft",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"MetaLeft"},{value:{en:"AltLeft",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"AltLeft"},{value:{en:"Space",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"extra-wide",newLine:!1,code:"Space"},{value:{en:"AltRight",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"AltRight"},{value:{en:"ControlRight",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"wide",newLine:!1,code:"ControlRight"},{value:{en:"ArrowLeft",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"ArrowLeft"},{value:{en:"ArrowDown",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"ArrowDown"},{value:{en:"ArrowRight",ru:""},altValue:{en:"",ru:""},language:this.properties.language,width:"",newLine:!1,code:"ArrowRight"}],this.keys=[]}init(){this.elements.wrapper=document.createElement("div"),this.elements.textarea=document.createElement("textarea"),this.elements.keysContainer=document.createElement("div"),this.elements.info=document.createElement("p"),this.elements.wrapper.classList.add("wrapper"),this.elements.textarea.classList.add("textarea"),this.elements.textarea.focus(),this.elements.keysContainer.classList.add("keyboard"),this.elements.info.innerHTML="Press the <b>Alt + Shift</b> to change the language",this.elements.keysContainer.append(this.createElement()),this.elements.keys=this.elements.keysContainer.querySelectorAll(".keyboard__key"),this.elements.wrapper.append(this.elements.info),this.elements.wrapper.append(this.elements.textarea),this.elements.wrapper.append(this.elements.keysContainer),document.body.append(this.elements.wrapper)}createElement(){const e=document.createDocumentFragment();return this.layout.forEach(t=>{let a=new n(t);this.keys.push(a),a.generateKey(),this.addKeysEventsHandlers(a),e.append(a.elements.key),a.newLine&&e.append(document.createElement("br"))}),e}addKeysEventsHandlers(e){switch(e.value.en){case"Backspace":e.elements.key.addEventListener("click",()=>{e.addRippleAnimation(),this.properties.value=this.properties.value.substring(0,this.properties.value.length-1),this.printText()});break;case"Tab":case"CapsLock":break;case"Enter":e.elements.key.addEventListener("click",()=>{e.addRippleAnimation(),this.properties.value+="\n",this.printText()});break;case"ShiftLeft":e.elements.key.addEventListener("click",()=>{this.properties.shift?(this.properties.shift=!this.properties.shift,e.elements.key.classList.remove("keyboard__key--pressed")):(e.elements.key.classList.add("keyboard__key--pressed"),this.properties.shift=!this.properties.shift,this.changeLanguage(),this.properties.alt&&(this.properties.shift=!this.properties.shift,this.properties.alt=!this.properties.alt,this.keys.forEach(e=>{e.elements.key.classList.remove("keyboard__key--pressed")})))});break;case"ShiftRight":case"ArrowUp":case"ControlLeft":case"MetaLeft":break;case"AltLeft":e.elements.key.addEventListener("click",()=>{this.properties.alt?(e.elements.key.classList.remove("keyboard__key--pressed"),this.properties.alt=!this.properties.alt):(e.elements.key.classList.add("keyboard__key--pressed"),this.properties.alt=!this.properties.alt,this.changeLanguage(),this.properties.shift&&(this.properties.alt=!this.properties.alt,this.properties.shift=!this.properties.shift,this.keys.forEach(e=>{e.elements.key.classList.remove("keyboard__key--pressed")})))});break;case"Space":e.elements.key.addEventListener("click",()=>{e.addRippleAnimation(),this.properties.value+=" ",this.printText()});break;case"AltRight":e.elements.key.addEventListener("click",()=>{this.properties.alt?(e.elements.key.classList.remove("keyboard__key--pressed"),this.properties.alt=!this.properties.alt):(e.elements.key.classList.add("keyboard__key--pressed"),this.properties.alt=!this.properties.alt,this.changeLanguage(),this.properties.shift&&(this.properties.alt=!this.properties.alt,this.properties.shift=!this.properties.shift,this.keys.forEach(e=>{e.elements.key.classList.remove("keyboard__key--pressed")})))});break;case"ControlRight":case"ArrowLeft":case"ArrowDown":case"ArrowRight":break;default:e.elements.key.addEventListener("click",()=>{e.addRippleAnimation(),this.properties.value+=e.elements.mainValue.textContent,this.printText()})}}printText(){this.elements.textarea.value=this.properties.value}addDocumentKeyboardEventHandler(){document.addEventListener("keydown",e=>{this.elements.textarea.focus(),this.keys.forEach(t=>{e.code===t.code&&t.addRippleAnimation()})})}changeLanguage(){this.properties.shift&&this.properties.alt&&(this.properties.language="en"===this.properties.language?"ru":"en",localStorage.setItem("lang",this.properties.language),this.keys.forEach(e=>{e.changeLanguage(this.properties.language)}))}}window.onload=()=>{const e=new i;e.init(),e.elements.textarea.focus(),e.addDocumentKeyboardEventHandler()}}]);